apiVersion: envoy.kaasops.io/v1alpha1
kind: VirtualServiceTemplate
metadata:
  name: extra-fields-template
spec:
  listener:
    name: https
  accessLogConfig:
    name: access-log-config
  additionalHttpFilters:
    - name: http-filter
  tlsConfig:
    autoDiscovery: true
  virtualHost:
    routes:
      - match:
          prefix: "/"
        direct_response:
          status: 200
          body:
            inline_string: "{\"message\":\"Hello from template\"}"
  extraFields:
    - name: X-Field
      type: string
      description: Demo field
      required: true
    - name: X-Field-2
      type: string
      description: Demo field
      required: true